[general]
ui = TTYUI
metadata = ~/.offlineimap
pythonfile = ~/.offlineimap.py
accounts = Google
maxsyncaccounts = 2
fsync = false

[Account Google]
localrepository = Local
remoterepository = Gmail
synclabels = yes
labelsheader = X-Label
ignorelabels = \Inbox, \Starred, \Sent, \Draft, \Spam, \Trash, \Important
autorefresh = 2
quick = 10

[Repository Local]
type = GmailMaildir
localfolders = ~/.mail
sep = /
nametrans = lambda folder: {'drafts':   '[Gmail]/Drafts',
                            'sent':     '[Gmail]/Sent Mail',
                            'spam':     '[Gmail]/Spam',
                            'flagged':  '[Gmail]/Starred',
                            'trash':    '[Gmail]/Trash',
                            'archive':  '[Gmail]/All Mail',
                            }.get(folder, folder)


[Repository Gmail]
type = Gmail
sslcacertfile = ~/.offlineimap.certs.pem
maxconnections = 1
realdelete = no
remoteuser = matthias@vallentin.net
remotepasseval = get_keychain_pass('offlineimap')
nametrans = lambda folder: {'[Gmail]/Drafts':    'drafts',
                            '[Gmail]/Sent Mail': 'sent',
                            '[Gmail]/Starred':   'flagged',
                            '[Gmail]/Spam':      'spam',
                            '[Gmail]/Trash':     'trash',
                            '[Gmail]/All Mail':  'archive',
                            }.get(folder, folder)
folderfilter = lambda folder: folder not in ['[Gmail]/Important',
#                                             'logs',
                                             ]

# Generate a file listing all mailboxes for mutt. 
[mbnames]
enabled = yes
filename = ~/.mutt/mailboxes
# Enumerating all Gmail mailboxes at the top is a lazy way to adjust the
# mailbox order. The right way would be to use the option *sort_keyfunc* and
# pass it Python lambda that does the sorting.
#sort_keyfunc = lambda d: (d['accountname'], d['foldername'])
header = "mailboxes +INBOX +sent +flagged +trash +spam +archive\nmailboxes "
peritem = "+%(foldername)s"
sep = "\nmailboxes "
footer = "\n"

# vim: ft=cfg tw=0
