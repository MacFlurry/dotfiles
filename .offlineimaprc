[general]
ui = TTYUI
metadata = ~/.offlineimap
accounts = Google
maxsyncaccounts = 1

[Account Google]
localrepository = Local
remoterepository = GmailProxied
autorefresh = 1
quick = 5

[Repository Local]
type = Maildir
localfolders = ~/.mail
sep = /
restoreatime = no

[Repository Gmail]
type = IMAP
ssl = yes
remotehost = imap.gmail.com
remoteuser = matthias@vallentin.net
maxconnections = 1
realdelete = no
nametrans = lambda folder: re.sub('.*Drafts$', 'drafts', folder)
folderfilter = lambda folder: re.search('INBOX|Drafts', folder)

# Same as Remote, however, uses GMail's X-GM-LABEL to convert Gmail labels into
# X-Label headers.
[Repository GmailProxied]
type = IMAP
remotehost = localhost
remoteport = 10143
remoteuser = matthias@vallentin.net
maxconnections = 1
realdelete = no
nametrans = lambda folder: re.sub('.*Drafts$', 'drafts', folder)
folderfilter = lambda folder: re.search('INBOX|Drafts', folder)

# vim: ft=cfg tw=0
